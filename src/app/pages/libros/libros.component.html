<h5>Mantenimiento de libros</h5>
<hr>
<button (click) = "clearValuesFormGroup()" class="btn waves-effect waves-light modal-trigger" data-target="modal-libro">Agregar libro
  <i class="material-icons right">add</i>
</button>

<table class="responsive-table">
  <thead>
    <tr>
      <th>Título</th>
      <th>Autor</th>
      <th>Código</th>
      <th>Precio</th>
      <th>Cantidad</th>
      <th>Editar</th>
      <th>Eliminar</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let libro of lbs.libros">
      <td>{{libro.titulo}}</td>
      <td>{{libro.autor}}</td>
      <td>{{libro.codigo}}</td>
      <td>S/.{{libro.precio | number}}</td>
      <td>{{libro.cantidad}}</td>
      <td>
        <button (click) = "cargarLibroToEdit(libro._id)" class="btn-floating btn-small waves-effect waves-light indigo modal-trigger" data-target="modal-libro"><i class="material-icons">edit</i></button>
      </td>
      <td>
        <button (click) = "eliminarLibro(libro._id)" class="btn-floating btn-small waves-effect waves-light red"><i class="material-icons">delete</i></button>
      </td>
    </tr>
  </tbody>
</table>

<div class="row">
  <div class="col s2 m2 l2 offset-s5 offset-m5 offset-l5">
    <ul class="pagination">
      <li class="waves-effect"><a (click) = "paginador(-5)"><i class="material-icons">chevron_left</i></a></li>
      <li class="waves-effect"><a (click) = "paginador(5)"><i class="material-icons">chevron_right</i></a></li>
    </ul>
  </div>
</div>

<!-- Modal Structure -->
<div id="modal-libro" class="modal modal-fixed-footer">
  <div class="modal-content">
    <h5>Agregar libro</h5>
    <div class="row">
      <form [formGroup] = "formGroup" id="form">
        <div class="col s12 m12 l12">
          <div class="input-field col s10 m10 l10">
            <input type="text" class="validate" id="titulo" formControlName = "titulo" [class.invalid] = "tituloValido">
            <label for="titulo" id="titulo-label">Titulo</label>
            <small class="red-text" *ngIf = "tituloValido">El titulo es requerido</small>
          </div>
          <div class="input-field col s10 m10 l10">
            <input type="text" class="validate" id="autor" formControlName = "autor" [class.invalid] = "autorValido">
            <label for="autor" id="autor-label">Autor</label>
            <small class="red-text" *ngIf = "autorValido">El autor es requerido</small>
          </div>
          <div class="input-field col s10 m10 l10">
            <input type="text" class="validate" id="codigo" formControlName = "codigo" [class.invalid] = "codigoValido">
            <label for="codigo" id="codigo-label">Código</label>
            <small class="red-text" *ngIf = "codigoValido">El código es requerido</small>
          </div>
          <div class="input-field col s10 m10 l10">
            <input step="0.01" type="number" class="validate" id="precio" formControlName = "precio" [class.invalid] = "precioValido">
            <label for="precio" id="precio-label">Precio</label>
            <small class="red-text" *ngIf = "precioValido">El precio debe ser mayor a S/.1.00</small>
          </div>
          <div class="input-field col s10 m10 l10">
            <input type="number" class="validate" id="cantidad" formControlName = "cantidad" [class.invalid] = "cantidadValida">
            <label for="cantidad" id="cantidad-label">Cantidad</label>
            <small class="red-text" *ngIf = "cantidadValida">La cantidad debe ser mayor o igual a 1</small>
          </div>
        </div>
      </form>
    </div>
  </div>
  <div class="modal-footer">
    <button id="close-my-modal" class="waves-effect waves-green btn-flat modal-close">Salir</button>
    <button (click) = "guardarActualizarLibro()" class="waves-effect waves-green btn-flat">Guardar</button>
  </div>
</div>


